<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="toarray-behavior.html">
<link rel="import" href="resources-behavior.html">

<dom-module id="fp-products-store">
    <template>
        <iron-ajax auto
            url="[[apiUrls.getProducts]]"
            handle-as="json"
            last-response="{{response}}"></iron-ajax>
    </template>
    <script>
        Polymer({

            is: 'fp-products-store',
            behaviors: [toarrayBehavior, resourcesBehavior],
            properties: {
                response: Object,
                category: {
                    type: String,
                    notify: true,
                    value: ''
                },
                products: {
                    type: Array,
                    notify: true,
                    computed: '_toArray(response)',
                },
            },
        });
    </script>
</dom-module>
